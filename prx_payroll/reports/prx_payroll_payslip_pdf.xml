<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <template id="report_payslip_pdf">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    <div class="page" style="font-family:Arial, sans-serif; font-size:13px;">

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>
                                <td style="vertical-align:top; width:60%;">
                                    <h2 style="margin:0;">
                                        <strong>
                                            <t t-esc="form['company']"/>
                                        </strong>
                                    </h2>
                                    <div>
                                        <strong>
                                            <t t-if="form['language']=='geo'">მისამართი:</t>
                                            <t t-if="form['language']=='us'">Address:</t>
                                        </strong>
                                        <t t-esc="form['address']"/>
                                    </div>
                                    <div>
                                        <strong>
                                            <t t-if="form['language']=='geo'">ს/კ:</t>
                                            <t t-if="form['language']=='us'">VAT:</t>
                                        </strong>
                                        <t t-esc="form['taxNumber']"/>
                                    </div>
                                </td>
                                <td style="vertical-align:middle; text-align:center; width:32%;">
                                    <div style="background-color:#333;color:#fff;padding:8px;font-size:16px;">
                                        <t t-if="form['language']=='geo'">სახელფასო უწყისი</t>
                                        <t t-if="form['language']=='us'">Payslip</t>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <br/>

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>

                                <td style="vertical-align:top; width:65%; padding-right:100px;">
                                    <table style="width:100%; border-collapse:collapse;">
                                        <tr>
                                            <th colspan="2"
                                                style="background:#333; color:#fff; padding:6px; font-size:15px; text-align:left;">
                                                <t t-if="form['language']=='geo'">თანამშრომლის ინფორმაცია</t>
                                                <t t-if="form['language']=='us'">Employee Info</t>
                                            </th>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="height:4px;"> </td>
                                        </tr>
                                        <tr>
                                            <td style="width:30%;">
                                                <strong>
                                                    <t t-if="form['language']=='geo'">სახელი, გვარი:</t>
                                                    <t t-if="form['language']=='us'">Name:</t>
                                                </strong>
                                            </td>
                                            <td>
                                                <t t-esc="form['fullName']"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <strong>
                                                    <t t-if="form['language']=='geo'">მისამართი:</t>
                                                    <t t-if="form['language']=='us'">Address:</t>
                                                </strong>
                                            </td>
                                            <td>
                                                <t t-esc="form['workerAddress']"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <strong>
                                                    <t t-if="form['language']=='geo'">ტელ:</t>
                                                    <t t-if="form['language']=='us'">Phone:</t>
                                                </strong>
                                            </td>
                                            <td>
                                                <t t-esc="form['workerPhone']"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <strong>Email:</strong>
                                            </td>
                                            <td>
                                                <t t-esc="form['workerEmail']"/>
                                            </td>
                                        </tr>
                                    </table>
                                </td>

                                <td style="vertical-align:top; width:35%;">
                                    <table style="width:100%; border-collapse:collapse;">
                                        <tr>
                                            <th style="background:#333; color:#fff; padding:6px; text-align:center; font-size:15px; border-right:5px solid #fff;">
                                                <t t-if="form['language']=='geo'">პერიოდი</t>
                                                <t t-if="form['language']=='us'">Period</t>
                                            </th>
                                            <th style="background:#333; color:#fff; padding:6px; text-align:center; font-size:15px;">
                                                <t t-if="form['language']=='geo'">დოკუმენტი</t>
                                                <t t-if="form['language']=='us'">Document</t>
                                            </th>
                                        </tr>
                                        <tr>
                                            <td style="background:#eee; text-align:center; padding:4px;">
                                                <t t-esc="form['period']"/>
                                            </td>
                                            <td style="background:#eee; text-align:center; padding:4px;">
                                                <t t-esc="form['document']"/>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>
                                <th style="background:#666;color:#fff;padding:5px;width:55%; border-right:5px solid #fff;text-align:left;">
                                    <t t-if="form['language']=='geo'">ანაზღაურებები</t>
                                    <t t-if="form['language']=='us'">Earnings</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center; border-right:5px solid #fff;">
                                    <t t-if="form['language']=='geo'">რაოდ./ერთ.</t>
                                    <t t-if="form['language']=='us'">Qty</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;border-right:5px solid #fff;">
                                    <t t-if="form['language']=='geo'">კოეფიციენტი</t>
                                    <t t-if="form['language']=='us'">Rate</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;">
                                    <t t-if="form['language']=='geo'">თანხა</t>
                                    <t t-if="form['language']=='us'">Amount</t>
                                </th>
                            </tr>
                            <t t-foreach="form['earning_ids']" t-as="line">
                                <tr>
                                    <td style="text-align:left;">
                                        <t t-esc="line['code']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['qty']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['rate']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['amount']"/>
                                    </td>
                                </tr>
                             </t>
                            <tr>
                                <td colspan="4" style="border-bottom:1px solid #000; height:3px;"> </td>
                            </tr>

                            <tr>
                                <td colspan="3" style="text-align:right;">
                                    <strong>
                                        <t t-if="form['language']=='geo'">ანაზღაურების ჯამი:</t>
                                        <t t-if="form['language']=='us'">Total Earnings:</t>
                                    </strong>
                                </td>
                                <td style="text-align:center;">
                                    <t t-esc="form['earningTotal']"/>
                                </td>
                            </tr>
                        </table>

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>
                                <th style="background:#666;color:#fff;padding:5px;width:70%;border-right:5px solid #fff;text-align:left;">
                                    <t t-if="form['language']=='geo'">გადასახადები</t>
                                    <t t-if="form['language']=='us'">Taxes</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;border-right:5px solid #fff;">
                                    <t t-if="form['language']=='geo'">კოეფიციენტი</t>
                                    <t t-if="form['language']=='us'">Rate</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;">
                                    <t t-if="form['language']=='geo'">თანხა</t>
                                    <t t-if="form['language']=='us'">Amount</t>
                                </th>
                            </tr>
                            <t t-foreach="form['tax_ids']" t-as="line">
                                <tr>
                                    <td>
                                        <t t-esc="line['code']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['rate']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['amount']"/>
                                    </td>
                                </tr>
                            </t>
                            <tr>
                                <td colspan="4" style="border-bottom:1px solid #000; height:3px;"> </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="text-align:right;">
                                    <strong>
                                        <t t-if="form['language']=='geo'">გადასახადების ჯამი:</t>
                                        <t t-if="form['language']=='us'">Total Taxes:</t>
                                    </strong>
                                </td>
                                <td style="text-align:center;">
                                    <t t-esc="form['taxTotal']"/>
                                </td>
                            </tr>
                        </table>

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>
                                <th style="background:#666;color:#fff;padding:5px;width:70%;border-right:5px solid #fff;text-align:left;">
                                    <t t-if="form['language']=='geo'">დაქვითვები</t>
                                    <t t-if="form['language']=='us'">Deductions</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;border-right:5px solid #fff;">
                                    <t t-if="form['language']=='geo'">კოეფიციენტი</t>
                                    <t t-if="form['language']=='us'">Rate</t>
                                </th>
                                <th style="background:#999;color:#fff;padding:5px;width:15%;text-align:center;">
                                    <t t-if="form['language']=='geo'">თანხა</t>
                                    <t t-if="form['language']=='us'">Amount</t>
                                </th>
                            </tr>
                            <t t-foreach="form['deduction_ids']" t-as="line">
                                <tr>
                                    <td>
                                        <t t-esc="line['code']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['rate']"/>
                                    </td>
                                    <td style="text-align:center;">
                                        <t t-esc="line['amount']"/>
                                    </td>
                                </tr>
                            </t>
                            <tr>
                                <td colspan="4" style="border-bottom:1px solid #000; height:3px;"></td>
                            </tr>
                            <tr>
                                <td colspan="2" style="text-align:right;">
                                    <strong>
                                        <t t-if="form['language']=='geo'">დაქვითვების ჯამი:</t>
                                        <t t-if="form['language']=='us'">Total Deductions:</t>
                                    </strong>
                                </td>
                                <td style="text-align:center;">
                                    <t t-esc="form['deductionTotal']"/>
                                </td>
                            </tr>
                        </table>

                        <table style="width:100%; margin-bottom:20px; border-collapse:collapse;">
                            <tr>
                                <td colspan="4" style="padding:0; border-top:2px solid #000;"> </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="padding:5px 0; text-align:right;">
                                    <strong>
                                        <t t-if="form['language']=='geo'">ხელზე ასაღები თანხა:</t>
                                        <t t-if="form['language']=='us'">Net Pay:</t>
                                    </strong>
                                </td>
                                <td style="padding:5px 0; text-align:center;">
                                    <t t-esc="form['netPay']"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="padding:0; border-bottom:2px solid #000;"> </td>
                            </tr>
                        </table>


                    </div>
                </t>
            </t>
        </template>


        <record id="prx_payroll_payslip_report_pdf_action" model="ir.actions.report">
            <field name="name">Expense Report</field>
            <field name="model">prx.payroll.report</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">prx_payroll.report_payslip_pdf</field>
            <field name="report_file">prx_payroll.report_payslip_pdf</field>
            <field name="binding_model_id" ref="prx_payroll.model_prx_payroll_report"/>
            <field name="binding_type">report</field>
        </record>


    </data>
</odoo>
